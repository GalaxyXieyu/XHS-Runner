"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"XHS-010","P0","1","both","Define keyword capture scope and metrics","Define configurable keywords, Top50 capture frequency, and publishing/traffic metric scope for the tool.","Settings UI allows add/edit/delete keywords and capture frequency; values persist in local DB; metrics list and data window are defined and surfaced in settings or docs.","AUTOE2E","Confirm ToS-aware boundaries, rate limits, and a user-facing on/off switch for capture.","Validate keyword changes persist after restart and do not trigger unintended background jobs.","已完成","已完成","已完成","已提交","","pages/index.js:1;electron/main.js:1;electron/preload.js:1;electron/keywords.js:1;electron/settings.js:1;electron/db.js:19;docs/Settings.md:1;docs/IPC.md:1","validation_limited:Electron UI/IPC not launched in this environment;manual_test:npm run dev (add/edit/remove keywords, set frequency, verify persistence);evidence:UI+IPC+DB settings/keywords implemented and documented;risk:medium keyword/settings persistence not exercised in UI;done_at:2026-01-05T18:44:18+08:00"
"XHS-020","P0","2","both","Establish Electron + Next.js architecture and IPC","Define the Electron main process, Next.js renderer, and local service layer with IPC boundaries.","App boots with Electron shell + Next.js UI; IPC channels are documented and working for at least one read/write call (e.g., settings fetch/update).","AUTOE2E","Ensure IPC surface is minimal, authenticated, and does not expose sensitive data by default.","Smoke test app startup on macOS and Windows build targets.","已完成","已完成","已完成","已提交","","package.json:1;electron/main.js:1;electron/preload.js:1;pages/index.js:1;docs/IPC.md:1","picked_reason:P0 基础架构与 IPC 需要先落地，后续功能依赖;validation_limited:requires Electron GUI to verify boot/IPC;manual_test:npm run dev (confirm window loads and Save persists keyword);evidence:Electron main/preload + Next UI + IPC docs added;risk:medium UI/IPC not executed in this environment;done_at:2026-01-05T18:33:56+08:00"
"XHS-030","P1","3","backend","Implement local data model with better-sqlite3","Create SQLite schema for keywords, topics, assets, generation tasks, publish records, and metrics with migrations.","Database initializes on first run; schema includes required tables; migrations run without data loss; backup/export path documented.","AUTOSERVER","Check schema normalization, index choices for Top50 queries, and migration safety.","Verify upgrade path from empty DB and from one prior schema version.","已完成","已完成","已完成","已提交","","package.json:1;electron/db.js:1;electron/main.js:1;docs/DB.md:1","picked_reason:先落地本地数据库与迁移，解锁关键词设置与抓取存储;validation_limited:Electron app not launched to create DB file;manual_test:npm run dev (confirm DB file created in userData and tables exist);evidence:better-sqlite3 module loads; schema/migrations implemented;risk:medium DB creation not exercised in runtime UI;done_at:2026-01-05T18:38:48+08:00"
"XHS-040","P0","4","backend","Integrate XHS MCP Top50 capture","Use XHS MCP to fetch homepage/search Top50 per keyword with caching, dedupe, rate limit, and retries. Provide a compliance toggle.","When XHS_MCP_ENDPOINT is configured, capture for a keyword stores up to 50 topics; duplicates are ignored by (source, source_id); rate limit and retry policy come from settings; when capture is disabled, capture returns a clear error without writing data.","AUTOSERVER","Confirm compliance toggle, failure handling, and no hard-coded credentials; verify settings defaults for rate limit/retry.","Run a dry-run capture without login and verify graceful degradation.","已完成","已完成","已完成","已提交","","electron/capture.js:1;electron/xhsClient.js:1;electron/main.js:1;electron/preload.js:1;electron/settings.js:1;electron/db.js:19;pages/index.js:1;docs/IPC.md:1;docs/Settings.md:1","picked_reason:P0 抓取是核心入口能力，需尽早落地;validation_limited:requires Electron app + MCP endpoint to verify capture;manual_test:export XHS_MCP_ENDPOINT=<url>; npm run dev; enable capture; run capture; verify topics inserted;evidence:xhsClient mock fetch verified; capture module/IPC implemented;risk:medium capture flow not executed against MCP;done_at:2026-01-05T19:04:07+08:00"
"XHS-050","P1","5","backend","Reuse Nanobanana generation pipeline and queues","Reuse generation logic and queue management from ai-images-generated and adapt as modules.","Batch generation runs with reusable prompt templates; assets are stored locally with metadata; queue supports pause/resume/cancel.","AUTOSERVER","Confirm module boundaries, resource limits, and retry/backoff strategy.","Validate batch size limits and concurrency settings do not degrade UI responsiveness.","未开始","未开始","未开始","未提交","","plan/2026-01-05_17-51-20-nextjs-desktop-nanobanana.md:20",""
"XHS-060","P1","6","both","Build module flows and state machines","Implement topic library, content generation, review, publish, and analytics modules with clear states.","Each module has explicit states and transitions; UI shows status badges; data updates are persisted and recoverable after restart.","AUTOE2E","Check state transition validity and error states for each module.","Verify cancel/retry paths and no orphaned tasks after restart.","未开始","未开始","未开始","未提交","","plan/2026-01-05_17-51-20-nextjs-desktop-nanobanana.md:21",""
"XHS-070","P1","7","both","Implement analytics collection and dashboard","Define metrics, ingestion windows, aggregation, and dashboards for trends/comparisons.","Metrics are captured per post with configurable window; dashboard shows trend and comparison views; export is available as CSV.","AUTOE2E","Validate aggregation correctness and avoid heavy queries in UI.","Check large data sets render without blocking UI and queries use indexes.","未开始","未开始","未开始","未提交","","plan/2026-01-05_17-51-20-nextjs-desktop-nanobanana.md:22",""
"XHS-080","P1","8","both","Cross-platform packaging and operations","Set up Electron packaging, auto-update strategy, configuration, and logging.","macOS and Windows installers build successfully; app config is editable; logs are written to a known path.","AUTOE2E","Check native dependency packaging and update rollback safety.","Install/upgrade/uninstall smoke tests on both platforms.","未开始","未开始","未开始","未提交","","plan/2026-01-05_17-51-20-nextjs-desktop-nanobanana.md:23",""
"XHS-090","P1","9","both","End-to-end workflow validation","Validate the full pipeline from keyword capture to analytics with rollback paths.","Sample keyword runs through capture→generation→review→publish→analytics without manual DB edits; rollback stops downstream tasks safely.","AUTOE2E","Ensure error logging and user-facing failure messages are present.","Repeat full flow after app restart and confirm no data loss.","未开始","未开始","未开始","未提交","","plan/2026-01-05_17-51-20-nextjs-desktop-nanobanana.md:24",""
