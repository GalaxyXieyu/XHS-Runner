"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"MIG-010","P0","1","both","Inventory modules and data contracts","Map prototype UI, current Next renderer, and PRD into a single module/data/IPC gap list.","A migration mapping doc exists and lists module ownership, required IPC endpoints, and data fields for Theme/Insight/Creative/Operations/Settings.","AUTOE2E","Confirm scope boundaries and backward-compat impact; document any deferred items.","Re-validate mapping against PRD and existing Electron/Next entrypoints before implementation starts.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:16;prd.md:1;docs/MigrationMapping.md:1","picked_reason:foundation mapping for downstream migrations;validation_limited:doc-only change;manual_test:open docs/MigrationMapping.md;evidence:docs/MigrationMapping.md created;risk:low;done_at:2026-01-07T16:52:35"
"MIG-020","P0","2","frontend","Front-end infrastructure alignment","Enable TypeScript support for prototype components and align renderer dependencies.","Renderer builds with TypeScript-enabled Next setup; required UI deps and types are installed; prototype TSX components compile without errors.","AUTOFRONTEND","Check Next build config changes, CSS import order, and avoid global style regressions.","Run `npm run dev` and verify no runtime style/compile errors in the renderer.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:18;pages/index.js:1;xhs-generator/src/App.tsx:1;package.json:1;pages/_app.js:1;styles/globals.css:1;docs/FrontendInfrastructure.md:1;tsconfig.json:1;next-env.d.ts:1","picked_reason:unblocks UI migration and reduces rework;validation_limited:deps not installed or build not executed;manual_test:npm install; npm run dev;evidence:styles/globals.css added; pages/_app.js added; package.json deps updated;risk:medium renderer build may fail until deps installed;done_at:2026-01-07T17:02:29;scope_updated:integrate prototype TSX;picked_reason:prototype source uses TSX;evidence:tsconfig + next-env added;risk:medium TypeScript compile unverified;done_at:2026-01-07T18:00:27"
"MIG-030","P1","3","frontend","Migrate prototype components into Next pages","Move prototype source into main renderer structure and remove the standalone Vite project.","Prototype UI renders from main Next app; no duplicate xhs-generator/ Vite project remains in repo.","AUTOFRONTEND","Maintain existing renderer entrypoints and avoid breaking IPC-dependent UI.","Manual navigation across tabs matches prototype layout and interactions.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:19;pages/index.js:1;xhs-generator/src/App.tsx:1;components/ThemeManagement.js:1;components/workspace/CreativeTab.js:1;components/workspace/OperationsTab.js:1;components/SettingsPanel.js:1;pages/index.tsx:1;components/ThemeManagement.tsx:1","picked_reason:renderer UI required before workflow wiring;validation_limited:renderer not launched;manual_test:npm run dev then verify navigation;evidence:pages/index.js updated with migrated layout;risk:medium UI styling not verified;done_at:2026-01-07T17:40:35;scope_updated:merge xhs-generator/src into main components;picked_reason:avoid duplicate codebases;manual_test:npm run dev then verify prototype UI;evidence:xhs-generator merged into root and removed;risk:medium UI compile/runtime unverified;done_at:2026-01-07T18:01:08"
"MIG-040","P0","4","backend","Extend sqlite schema for themes and operations","Add missing tables and migrations for themes, competitors, comments, creatives, and interaction tasks.","Database migrations run without errors and new tables exist with expected columns while existing data remains readable.","AUTOSERVER","Review migration idempotency, backward compatibility, and default values.","Verify DB creation/migration on a clean profile and an existing profile.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:20;electron/db.js:1;data/schema.json:1;data/schema.md:1","picked_reason:database schema required before new IPC and workflows;validation_limited:db migration not executed locally;manual_test:npm run dev (launch Electron) to initialize DB and confirm schema;evidence:electron/db.js updated with schema v5 tables;risk:medium migration behavior unverified on existing DB;done_at:2026-01-07T17:04:59;picked_reason:schema updated in data/schema.*;scope_updated:align sqlite schema to schema.json;manual_test:delete userData/xhs-generator.db then npm run dev to rebuild;evidence:electron/db.js schema v6 aligns with data/schema.*;done_at:2026-01-07T17:25:52"
"MIG-050","P0","5","backend","Add IPC endpoints for theme-driven workflow","Implement IPC handlers and preload bridges for theme CRUD, competitor tracking, insights, creative generation queue, and operations.","All planned IPC channels respond with structured payloads and are accessible via preload in the renderer.","AUTOSERVER","Validate IPC argument validation, error handling, and logging coverage.","Run a smoke test to exercise each IPC path from the renderer without crashes.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:21;electron/main.js:1;electron/preload.js:1;electron/themeService.js:1;electron/competitorService.js:1;electron/insightService.js:1;electron/creativeService.js:1;electron/publishService.js:1;electron/interactionService.js:1","picked_reason:unlock renderer integration for themes and operations;validation_limited:ipc endpoints not exercised in running Electron;manual_test:npm run dev then invoke IPC from renderer console;evidence:new IPC handlers and preload bridges added;risk:medium runtime wiring unverified;done_at:2026-01-07T17:33:45"
"MIG-055","P1","6","both","AI form assist pipeline","Define AI form assist data flow (insight->suggestion->form fill->user edit->feedback) and add IPC/DB/UI wiring.","form_assist_records table exists; IPC returns suggestion payload; UI can apply and edit suggestions; feedback saved.","AUTOE2E","Confirm data fields and privacy handling for AI suggestions.","Run manual flow: generate suggestion -> apply -> edit -> save feedback without errors.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:22;plan/2026-01-07_16-42-18-prototype-migration-mcp.md:27;prd.md:99;data/schema.json:1;electron/db.js:1;electron/formAssistService.js:1;electron/main.js:1;electron/preload.js:1;components/workspace/CreativeTab.js:1","picked_reason:form assist required for creative flow;validation_limited:IPC/UI not exercised in running app;manual_test:npm run dev -> generate/apply/feedback in CreativeTab;evidence:form_assist_records + IPC + UI wiring added;risk:medium UX flow unverified;done_at:2026-01-07T17:43:34"
"MIG-060","P0","6","backend","Complete XHS MCP client coverage","Normalize MCP client calls and implement missing tools for note detail, publish, comment, and delete.","MCP client supports required tool set with timeout/error handling and environment config documented.","AUTOSERVER","Confirm tool names and payload schema against MCP provider; add guards for missing env vars.","Execute MCP calls in mock mode and validate structured outputs for each tool.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:22;electron/xhsClient.js:1;prd.md:1;docs/Settings.md:1","picked_reason:P0 MCP coverage to unblock capture/publish flows;validation_limited:MCP endpoints not exercised;manual_test:export XHS_MCP_ENDPOINT then run a fetchTopNotes call;evidence:xhsClient expanded tools + docs/Settings updated;risk:medium payload mismatch possible;done_at:2026-01-07T17:36:12"
"MIG-070","P1","7","both","Wire UI actions to IPC workflow","Replace prototype mocks with IPC-backed actions for capture, insight, creation, and operations flows.","Key user actions trigger IPC calls and update UI state with real data from the local DB.","AUTOE2E","Check UI state management, loading/error states, and ensure IPC failures surface clearly.","Run end-to-end smoke flow: create theme -> capture -> generate -> publish -> metrics refresh.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:23;pages/index.js:1;electron/main.js:1;components/ThemeManagement.js:1;components/workspace/OperationsTab.js:1;electron/preload.js:1","validation_limited:IPC not exercised in running Electron;manual_test:npm run dev -> create theme -> refresh publish queue;evidence:UI now calls themes/publish IPC;risk:medium runtime wiring unverified;done_at:2026-01-07T17:45:27"
"MIG-080","P1","8","both","Regression and documentation updates","Run manual regression and update docs for MCP config, migration steps, and known limits.","Manual smoke test passes and docs reflect configuration/limits for MCP and renderer workflow.","AUTOE2E","Ensure release notes cover breaking changes and upgrade steps.","Re-run critical flows on a clean profile and confirm no regressions in existing features.","已完成","已完成","已完成","已提交","","plan/2026-01-07_16-42-18-prototype-migration-mcp.md:24;docs/Config.md:1;docs/Settings.md:1;docs/MigrationNotes.md:1","picked_reason:close out migration docs and regression guidance;validation_limited:manual smoke not executed;manual_test:npm run dev and follow docs/MigrationNotes.md;evidence:docs/MigrationNotes.md added;risk:medium runtime regressions unverified;done_at:2026-01-07T17:46:42"
